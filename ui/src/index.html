<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Humeur du mois 2018</title>

    <script
      defer
      src="https://cdn.auth0.com/js/auth0/9.7.3/auth0.min.js"
    ></script>

    <!-- update the version number as needed -->
    <script defer src="/__/firebase/5.3.1/firebase-app.js"></script>
    <!-- include only the Firebase features as you need -->
    <script defer src="/__/firebase/5.3.1/firebase-auth.js"></script>
    <script defer src="/__/firebase/5.3.1/firebase-firestore.js"></script>
    <!-- initialize the SDK after all desired features are loaded -->
    <script defer src="/__/firebase/init.js"></script>
  </head>

  <body>
    <div class="content">
      <div id="loggingInPage" class="page">
        <h1>Hi!</h1>
        <h2>I'm logging you in...</h2>
        <div class="loader">
          <svg class="circular" viewBox="25 25 50 50">
            <circle
              class="path"
              cx="50"
              cy="50"
              r="20"
              fill="none"
              strokeWidth="2"
              strokeMiterlimit="10"
            />
          </svg>
        </div>
      </div>
      <div id="homePage" class="page hidden">
        <h1>Welcome, <span id="userId"></span></h1>
        <h2>How have you been at Zenika?</h2>
        <div class="button__wrapper">
          <button class="button button--great" type="button" id="submitGreat">
            <span class="button__emoji">😁</span> Great!
          </button>
          <button
            class="button button--no-that-great"
            type="button"
            id="submitNotThatGreat"
          >
            <span class="button__emoji">😐</span> Not that great
          </button>
          <button
            class="button button--not-great-at-all"
            type="button"
            id="submitNotGreatAtAll"
          >
            <span class="button__emoji">😤</span> Not great at all
          </button>
        </div>
        <span id="managerNotice" class="hidden">
          The result will be sent to <span id="managerName"></span>
        </span>
        <div class="button_wrapper">
          <button
            class="button button--display-stats"
            type="button"
            id="displayStatsButton"
          >
            <span class="button__emoji"> 📊 </span> Display stats
          </button>
        </div>
      </div>
      <div id="displayStats" class="page hidden">
        <h1>Statistics</h1>
        <div class="button_wrapper">
          <button
            class="button button--display-stats"
            type="button"
            id="homeButton1"
          >
            <span class="button__emoji"> 🏠 </span> Home
          </button>
          <p>Stats by agency:</p>
          <select id="agencySelector">
            <!-- TODO: fill this dynamicaly -->
            <option value="" selected>Global</option>
            <option value="Paris">Paris</option>
            <option value="Nantes">Nantes</option>
            <option value="Rennes">Rennes</option>
            <option value="Lille">Lille</option>
            <option value="Lyon">Lyon</option>
            <option value="Bordeaux">Bordeaux</option>
            <option value="Grenoble">Grenoble</option>
            <option value="Montréal">Montréal</option>
            <option value="Singapour">Singapour</option>
          </select>
        </div>
        <div id="statsTab"></div>
      </div>
      <div id="recordingPage" class="page hidden">
        <h1>Sit tight!</h1>
        <h2>I'm recording your vote...</h2>
        <div class="loader">
          <svg class="circular" viewBox="25 25 50 50">
            <circle
              class="path"
              cx="50"
              cy="50"
              r="20"
              fill="none"
              strokeWidth="2"
              strokeMiterlimit="10"
            />
          </svg>
        </div>
      </div>
      <div id="thankYouPage" class="page hidden">
        <h1>Thanks!</h1>
        <h2>Your answer was properly recorded.</h2>
        <div class="button_wrapper">
          <button
            class="button button--display-stats"
            type="button"
            id="homeButton2"
          >
            <span class="button__emoji"> 🏠 </span> Home
          </button>
        </div>
      </div>
      <div id="noCampaignPage" class="page hidden">
        <h1>We're closed!</h1>
        <h2>There is no voting going on right now.</h2>
      </div>
      <div id="alreadyVotedPage" class="page hidden">
        <h1>We're closed!</h1>
        <h2>Looks like you've already voted this month.</h2>
        <div class="button_wrapper">
          <button
            class="button button--display-stats"
            type="button"
            id="homeButton3"
          >
            <span class="button__emoji"> 🏠 </span> Home
          </button>
        </div>
      </div>
      <div id="errorPage" class="page hidden">
        <h1>There was an error!</h1>
        <h2>Please try reloading.</h2>
        <p>
          If this keeps happening, contact dreamlab@zenika.com or #dreamlab on
          Slack.
        </p>
        <p>You may check the console for more details about the error.</p>
        <div class="button_wrapper">
          <button
            class="button button--display-stats"
            type="button"
            id="homeButton4"
          >
            <span class="button__emoji"> 🏠 </span> Home
          </button>
        </div>
      </div>
      <div id="unknownEmployeePage" class="page hidden">
        <h1>Hi!</h1>
        <h2>I don't know you yet: <span id="userEmail"></span></h2>
        <p>
          If it's your first day at Zenika you may not be able to vote today.
        </p>
        <p>Come back tommorow.</p>
        <p>
          If this keeps happening, contact dreamlab@zenika.com or #dreamlab on
          Slack.
        </p>
        <div class="button_wrapper">
          <button
            class="button button--display-stats"
            type="button"
            id="homeButton5"
          >
            <span class="button__emoji"> 🏠 </span> Home
          </button>
        </div>
      </div>
    </div>
  </body>
</html>
